<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='TomAlex0-data-proxy-SqliteConnection'>/**
</span> * @author Thomas Alexander
 *
 * A SQLite connection to local HTML5 SQLite Database storage.
 *
 * ## Usage
 *
 *     // Create DB connection
 *     dbConnection = Ext.create('TomAlex0.data.proxy.SqliteConnection', {
 *         dbName: &quot;test&quot;,
 *         dbVersion: &quot;1.0&quot;,
 *         dbDescription: &quot;testdb&quot;,
 *         dbSize: 65536
 *     });
 *
 *     // Do something with DB connection
 *     console.log(&quot;Connected to local HTML SQLite DB version: &quot; + dbConnection.dbConn.version);
 *
 */
Ext.define('TomAlex0.data.proxy.SqliteConnection', {
    extend: 'Ext.util.Observable',
<span id='TomAlex0-data-proxy-SqliteConnection-cfg-dbName'>    /**
</span>     * @cfg {String} dbName
     * Name of database
     */
    dbName: undefined,

<span id='TomAlex0-data-proxy-SqliteConnection-cfg-version'>     /**
</span>     * @cfg {String} version
     * database version. If different than current, use updatedb event to update database
     */
    dbVersion: '1.19',

<span id='TomAlex0-data-proxy-SqliteConnection-cfg-dbDescription'>    /**
</span>     * @cfg {String} dbDescription
     * Description of the database
     */
    dbDescription: '',

<span id='TomAlex0-data-proxy-SqliteConnection-cfg-dbSize'>    /**
</span>     * @cfg {String} dbSize
     * Max storage size in bytes
     */
    dbSize: 5 * 1024 * 1024,

<span id='TomAlex0-data-proxy-SqliteConnection-cfg-dbConn'>    /**
</span>     * @cfg {String} dbConn
     * database connection object
     */
    dbConn: undefined,

    constructor: function(config) {
        config = config || {};
        
        Ext.apply(this, config);
        var me = this;
        
        me.callParent([this]);
        me.dbConn = openDatabase(me.dbName, me.dbVersion, me.dbDescription, me.dbSize);
        return me;
    }
});
</pre>
</body>
</html>
